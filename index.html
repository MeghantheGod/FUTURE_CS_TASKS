<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hacker File Sharing System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="terminal-header">[ Secure Ethical Hacking File System v1.0 ]</div>

    <h1>Upload & Encrypt File</h1>
    <form action="/encrypt" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <input type="submit" value="Encrypt & Upload">
    </form>

    <h1>Decrypt File</h1>
    <form action="/decrypt" method="post" enctype="multipart/form-data">
        <input type="file" name="file" required>
        <input type="submit" value="Decrypt & Upload">
    </form>

    <h1>Download Files</h1>
    <ul>
        {% for file in files %}
            <li><a href="/download/{{ file }}">{{ file }}</a></li>
        {% endfor %}
    </ul>

    <h2>System Logs</h2>
    <div id="log-panel" class="console">
        <p>[INFO] System initialized...</p>
        <p>[INFO] Waiting for file upload...</p>
    </div>

    <script>
        function addLog(message) {
            const logPanel = document.getElementById("log-panel");
            const p = document.createElement("p");
            p.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logPanel.appendChild(p);
            logPanel.scrollTop = logPanel.scrollHeight;
        }

        // Fake log generator
        setInterval(() => {
            const messages = [
                "Monitoring upload directory...",
                "Scanning for suspicious activity...",
                "No threats detected.",
                "New connection request logged."
            ];
            addLog(messages[Math.floor(Math.random() * messages.length)]);
        }, 5000);
    </script>
</body>
</html>
